<!DOCTYPE html>
<html>

<head>
    <title>Guestbook table</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.1.0/build/pure-min.css"
        integrity="sha384-yHIFVG6ClnONEA5yB5DJXfW2/KC173DIQrYoZMEtBvGzmf0PKiGyNEqe9N6BNDBH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.1.0/build/grids-responsive-min.css">
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
    <link rel="stylesheet" href="/css/style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>
    <div class="header">
        <div class="home-menu pure-menu pure-menu-horizontal pure-menu-fixed">
            <a class="pure-menu-heading">Guestbook</a>

            <ul class="pure-menu-list">
                <li class="pure-menu-item pure-menu-selected"><a href="index.html" class="pure-menu-link">Home</a></li>
                <li class="pure-menu-item"><a href="newmessage.html" class="pure-menu-link">New entry</a></li>
                <li class="pure-menu-item"><a href="guestbooktable.html" class="pure-menu-link">Guestbook</a></li>
                <li class="pure-menu-item"><a href="ajax.html" class="pure-menu-link">Ajax entry</a></li>
            </ul>
        </div>
    </div>
    <div id="guestTable">


        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Username</th>
                    <th scope="col">Country</th>
                    <th scope="col">Date</th>
                    <th scope="col">Message</th>
                </tr>
            </thead>
            <tbody id="myTable">

            </tbody>
        </table>
    </div>

    <script>


        fetch('data.json')
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                buildTable(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });

        function buildTable(data) {
            var table = document.getElementById('myTable')

            for (var i = 0; i < data.length; i++) {
                var row = `<tr>
							<td>${data[i].username}</td>
							<td>${data[i].country}</td>
							<td>${data[i].date}</td>
                            <td>${data[i].message}</td>
					  </tr>`
                table.innerHTML += row


            }
        }
    </script>
</body>

</html>